#!/bin/bash

# Устанавливаем каталог (аргумент или текущий каталог)
dr="${1:-.}"

# Проверяем существование каталога
if [ ! -d "$dr" ]; then
    echo "Error: $dir is not a directory" >&2
    exit 1
fi

# Ищем файлы, получаем размер в блоках, сортируем, преобразуем размер
find "$dr" -type f -exec du -h {} + | sort -hr
